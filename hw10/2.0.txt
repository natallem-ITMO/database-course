2.0. Общий план
Для выполнения запроса свободных мест:
с фронтенда получаем Id того полета, который интересует пользователя
(т.к. мы на фронт отдаем изначально информацию о всех рейсах для
отображения пользователю, когда пользователь делает выбор рейса,
то на бекенде получаем нужный id); дальше по средствам фреймворка
сможем сделать запрос в нашу бд, получив нужный список мест, и
отдаем полученную модель на фронт для отображения.
Если пользователь залогинен, то мы так же отдаем ему список мест,
которые были забронированы лично им.
Отображаем предупреждение, что для получения забронированных мест
нужна регистрация на сайте (и даем ссылку на регистрационную форму).
На странице регистирации:
Две формы:
* Регистрация - с фронта поступает информация о пользователе (имя и пароль),
регистрируем по этим данным пользователя и отдаем его user_id, который
вычисляем в бд (это будет его логин на сайте)
* Вход - по user_id и паролю проверяем, что пользователь есть в системе,
и запоминаем информацию о входе, или отдаем ошибку.
Для бронирования, покупки:
На стороне бекенда храним текущий пароль и id пользователя в этой сессии,
полученные когда то с фронта (если пользователь не зарегистрирован,
то просим пройти на страницу регистрации и получаем данные оттуда), и,
при попытке бронирования или покупки (информацию о команде получаем с фронта,
зная, на какую ссылку переходит пользователь), когда пользователь выбирает
нужное ему свободное место из списка, проверяем его credentials(на случай
изменения), проверяем корректность данных(которые приходят с фронта),
и бронируем/выкупаем билет для пользователя, отдаем на фронт информацию
об ошибке/успехе.
